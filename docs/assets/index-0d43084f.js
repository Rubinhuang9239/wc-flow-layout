(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=t(e);fetch(e.href,s)}})();const I=`wc-waterfall{position:relative;display:block;box-sizing:border-box!important;overflow:unset!important}wc-waterfall>*{position:absolute;box-sizing:border-box}
`,E=o=>o.nodeType==1,M=o=>{const r=o();class t extends HTMLElement{constructor(){super(),this.$props=o();const e={};for(const s in this.$props)e[s]={get:()=>this.$props[s],set:i=>{this.$props[s]=L(r,s,i),this.render()}};Object.defineProperties(this,e)}static get observedAttributes(){return Object.keys(r).filter(e=>W(r[e]))}attributeChangedCallback(e,s,i){i=L(r,e,i),this.$props[e]!==i&&(this.$props[e]=i)}}return t},L=(o,r,t)=>{const n=o[r];return W(n)?{number:s=>Number(s),string:s=>String(s),boolean:s=>s!=null&&s!="false"}[typeof n](t):void 0},W=o=>{const r=typeof o;return r=="number"||r=="string"||r=="boolean"};function N(o){let r=0;for(let t=0;t<o.length;t++)r=o[r]<=o[t]?r:t;return r}function P(o,{getW:r,setW:t,getH:n,setH:e,getPad:s,setX:i,setY:p,getChildren:d},{cols:l,gap:c}){const[a,C,g,O]=s(o),f=d(o),w=f.length;if(w){const v=(r(o)-c*(l-1)-(O+C))/l;Array.prototype.forEach.call(f,u=>t(u,v));const A=Array.prototype.map.call(f,u=>n(u)),h=Array(l).fill(a);for(let u=0;u<w;u++){const x=f[u],b=N(h);p(x,h[b]),i(x,O+(v+c)*b),h[b]+=A[u]+c}e(o,Math.max(...h)-c+g)}else e(o,a+g)}const y=Symbol(),m=Symbol();function _(o,r){let t,n,e;function s(){t=new ResizeObserver(l=>l.some(({target:c})=>c[m]!=c.offsetWidth||c[y]!=c.offsetHeight)&&d()),t.observe(o),Array.prototype.forEach.call(o.children,l=>t.observe(l)),n=new MutationObserver(l=>{l.forEach(c=>{c.addedNodes.forEach(a=>E(a)&&t.observe(a)),c.removedNodes.forEach(a=>E(a)&&t.unobserve(a))}),d()}),n.observe(o,{childList:!0,attributes:!1}),e=new MutationObserver(()=>d()),e.observe(o,{childList:!1,attributes:!0}),d()}function i(){t.disconnect(),n.disconnect(),e.disconnect()}let p=!1;function d(){p||(p=!0,requestAnimationFrame(()=>{r(),o[m]=o.offsetWidth,o[y]=o.offsetHeight,e.takeRecords(),p=!1}))}return{relayout:d,mount:s,unmount:i}}const $=(o,r)=>_(o,()=>{P(o,{getW:t=>t.offsetWidth,setW:(t,n)=>t.style.width=n+"px",getH:t=>(t[m]=t.offsetWidth,t[y]=t.offsetHeight),setH:(t,n)=>t.style.height=n+"px",getPad:t=>{const n=getComputedStyle(t);return[parseInt(n.paddingTop),parseInt(n.paddingRight),parseInt(n.paddingBottom),parseInt(n.paddingLeft)]},setX:(t,n)=>t.style.left=n+"px",setY:(t,n)=>t.style.top=n+"px",getChildren:t=>t.children},r)});document.head.appendChild(Object.assign(document.createElement("style"),{innerText:I}));const H=()=>({cols:2,gap:4});class S extends M(H){constructor(){super()}connectedCallback(){this._layout=$(this,this),this._layout.mount()}disconnectedCallback(){this._layout.unmount()}render(){this._layout.relayout()}}customElements.define("wc-waterfall",S);
